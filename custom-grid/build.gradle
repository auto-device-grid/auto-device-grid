apply plugin: 'java'

version = '1.0-SNAPSHOT'

test {
  useTestNG() {
    suites('src/test/resources/testng.xml')
  }
  testLogging {
    showStandardStreams = true
    exceptionFormat "full"
    events "passed", "skipped", "failed"
  }
}

task jarItUp(type: Jar) {
  manifest {
    attributes 'Implementation-Title': 'Custom Selenium Server',
            'Implementation-Version': version,
            'Main-Class': 'org.autodevicegrid.selenium.GridLauncher.GridLauncher'
  }
  baseName = project.name
  destinationDir = file("$rootDir/../resources")
  from {
    configurations.compile.collect {
      it.isDirectory() ? it : zipTree(it)
    }
  }
  with jar
}

repositories {
  mavenCentral()
}

dependencies {
  compile 'org.seleniumhq.selenium:selenium-server:3.141.59'
  compile 'org.seleniumhq.selenium:selenium-java:3.141.59'
  testCompile 'org.testng:testng:6.9.10'
}
